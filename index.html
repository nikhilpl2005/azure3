<!DOCTYPE html>
<html>
<head>
<title>Mini Subway Surfers</title>
<meta charset="UTF-8">
<style>
    body { margin:0; overflow:hidden; background:#111; }
    canvas { display:block; background:#222; }
    #score {
        position:fixed; top:20px; left:20px;
        font-size:28px; color:white; font-family:Arial;
    }
</style>
</head>
<body>

<canvas id="game"></canvas>
<div id="score">Score: 0</div>

<script>
/* -----------------------------------------
      SIMPLE SUBWAY SURFERS STYLE GAME
-------------------------------------------*/
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let laneX = [canvas.width/2 - 150, canvas.width/2, canvas.width/2 + 150];
let playerLane = 1;
let playerY = canvas.height - 160;

let obstacles = [];
let speed = 8;
let score = 0;
let alive = true;

// Handle key presses
document.addEventListener("keydown", e => {
    if (!alive) return;

    if (e.code === "ArrowLeft" && playerLane > 0) playerLane--;
    if (e.code === "ArrowRight" && playerLane < 2) playerLane++;
});

// Spawn obstacles every second
setInterval(() => {
    if (!alive) return;

    obstacles.push({
        lane: Math.floor(Math.random()*3),
        y: -200
    });
}, 900);

function drawPlayer() {
    ctx.fillStyle = "cyan";
    ctx.fillRect(laneX[playerLane] - 50, playerY, 100, 120);
}

function drawObstacles() {
    ctx.fillStyle = "red";
    obstacles.forEach(o => {
        ctx.fillRect(laneX[o.lane] - 50, o.y, 100, 120);
    });
}

function updateObstacles() {
    obstacles.forEach(o => {
        o.y += speed;

        // Collision
        if (o.lane === playerLane &&
            o.y + 120 > playerY &&
            o.y < playerY + 120) {
                alive = false;
        }
    });

    obstacles = obstacles.filter(o => o.y < canvas.height + 200);
}

function gameOver() {
    ctx.fillStyle = "rgba(0,0,0,0.7)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "white";
    ctx.font = "60px Arial";
    ctx.fillText("GAME OVER", canvas.width/2 - 180, canvas.height/2);
}

function loop() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    if (alive) {
        // Road
        ctx.strokeStyle = "white";
        ctx.lineWidth = 6;
        ctx.beginPath();
        ctx.moveTo(canvas.width/2 - 150, 0);
        ctx.lineTo(canvas.width/2 - 150, canvas.height);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(canvas.width/2 + 150, 0);
        ctx.lineTo(canvas.width/2 + 150, canvas.height);
        ctx.stroke();

        drawPlayer();
        drawObstacles();
        updateObstacles();

        score++;
        document.getElementById("score").innerText = "Score: " + score;
    } else {
        gameOver();
    }

    requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
